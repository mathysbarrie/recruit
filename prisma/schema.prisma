// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

model Candidature {
  id                    String   @id @default(cuid())
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt

  // Informations personnelles
  nom                   String
  prenom                String
  email                 String
  telephone             String
  ville                 String
  codePostal            String

  // Expérience professionnelle
  experience            String   // "oui" | "non"
  anneesExperience      String
  secteurs              String   // JSON array as string
  volumeAppels          String

  // Connaissances énergies renouvelables
  connaissance          String
  solutionsConnues      String   // JSON array as string
  aidesConnues          String?

  // Compétences
  communication         Int
  objections            Int
  perseverance          Int
  logiciels             String?
  logicielsDetail       String?

  // Disponibilité
  disponibilite         String
  contrat               String
  lieu                  String
  horaires              String
  salaire               String

  // Motivation
  motivation            String
  objectifs             String?
  cv                    String?

  // Informations complémentaires
  commentConnu          String
  commentaires          String?

  // Status de la candidature
  status                String   @default("new") // "new" | "reviewed" | "shortlisted" | "rejected"
  notes                 String?  // Notes de l'admin
}

model Admin {
  id                String   @id @default(cuid())
  email             String   @unique
  password          String
  nom               String
  prenom            String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
}
